Version 4
SHEET 1 1736 680
WIRE -128 96 -224 96
WIRE 96 96 -48 96
WIRE 944 128 912 128
WIRE 1056 128 1024 128
WIRE 320 160 256 160
WIRE 464 160 400 160
WIRE -224 176 -224 96
WIRE -112 176 -224 176
WIRE -32 176 -48 176
WIRE 832 224 816 224
WIRE 912 224 912 128
WIRE 912 256 912 224
WIRE 944 256 912 256
WIRE -368 272 -384 272
WIRE -352 272 -368 272
WIRE -224 272 -224 176
WIRE -224 272 -272 272
WIRE -176 272 -224 272
WIRE 816 272 720 272
WIRE 816 272 816 224
WIRE 1056 272 1056 128
WIRE 1056 272 1008 272
WIRE 1088 272 1056 272
WIRE -32 288 -32 176
WIRE -32 288 -112 288
WIRE 16 288 -32 288
WIRE 96 288 96 96
WIRE 96 288 80 288
WIRE 128 288 96 288
WIRE 224 288 208 288
WIRE 256 288 256 160
WIRE 256 288 224 288
WIRE 304 288 256 288
WIRE 944 288 912 288
WIRE -176 304 -208 304
WIRE 464 304 464 160
WIRE 464 304 368 304
WIRE 496 304 464 304
WIRE -208 320 -208 304
WIRE 304 320 272 320
WIRE 816 320 816 272
WIRE 832 320 816 320
WIRE 912 320 912 288
WIRE 272 336 272 320
WIRE 912 400 912 320
WIRE -368 416 -368 272
WIRE -32 416 -368 416
WIRE 224 416 224 288
WIRE 224 416 48 416
WIRE 1024 432 960 432
WIRE 1136 432 1104 432
WIRE 960 464 960 432
WIRE 912 512 912 496
FLAG -464 544 0
FLAG -464 464 in
IOPIN -464 464 Out
FLAG -560 400 0
FLAG -480 400 0
FLAG -560 320 9V
IOPIN -560 320 Out
FLAG -480 320 -9V
IOPIN -480 320 Out
FLAG -144 256 9V
IOPIN -144 256 In
FLAG -144 320 -9V
IOPIN -144 320 In
FLAG -384 272 in
IOPIN -384 272 In
FLAG -208 320 0
FLAG 336 272 9V
IOPIN 336 272 In
FLAG 336 336 -9V
IOPIN 336 336 In
FLAG 272 336 0
FLAG 496 304 rectified
IOPIN 496 304 Out
FLAG 976 240 9V
IOPIN 976 240 In
FLAG 1136 432 ctrl
IOPIN 1136 432 In
FLAG 1088 272 out
IOPIN 1088 272 Out
FLAG 912 512 0
FLAG 976 304 -9V
IOPIN 976 304 In
FLAG 720 272 rectified
IOPIN 720 272 In
FLAG 1200 240 0
FLAG 1200 160 ctrl
IOPIN 1200 160 Out
SYMBOL Voltage -464 448 R0
SYMATTR InstName V1
SYMATTR Value SINE(0 2 110)
SYMATTR Value2 AC 0.2
SYMBOL TL072 -144 224 R0
SYMATTR InstName U1
SYMBOL Voltage -560 304 R0
SYMATTR InstName V2
SYMATTR Value 9
SYMBOL Voltage -480 304 R0
SYMATTR InstName V3
SYMATTR Value -9
SYMBOL Res -256 256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 6.8k
SYMBOL diode -48 160 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL Res 112 304 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R2
SYMATTR Value 3.4k
SYMBOL Res -32 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 6.8k
SYMBOL diode 80 272 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL Res 64 400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 6.8k
SYMBOL TL072 336 240 R0
SYMATTR InstName U2
SYMBOL Res 416 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 6.8k
SYMBOL TL072 976 208 R0
SYMATTR InstName U3
SYMBOL Res 928 304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 47k
SYMBOL Res 928 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 47k
SYMBOL Res 1040 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 47k
SYMBOL njf 960 400 M0
SYMATTR InstName J1
SYMATTR Value J112
SYMBOL Res 1008 448 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R9
SYMATTR Value 1Meg
SYMBOL Voltage 1200 144 R0
SYMATTR InstName V4
SYMATTR Value PULSE(-9 0 {shift} 10ns 10ns {phase} {period})
TEXT -528 160 Left 2 !.tran 0 20m 0
TEXT 1160 312 Left 2 !.param freq = 110\n.param period = 1/freq\n.param phase = period/2\n.param shift = 0
