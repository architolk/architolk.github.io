Version 4
SHEET 1 2148 788
WIRE 480 112 352 112
WIRE 1824 160 1792 160
WIRE 1936 160 1904 160
WIRE 1200 176 1088 176
WIRE 352 192 352 112
WIRE 384 192 352 192
WIRE 1056 192 784 192
WIRE 480 208 480 112
WIRE 480 208 448 208
WIRE 544 208 480 208
WIRE 48 224 0 224
WIRE 80 224 48 224
WIRE 192 224 160 224
WIRE 272 224 256 224
WIRE 384 224 272 224
WIRE 48 256 48 224
WIRE 272 256 272 224
WIRE 1088 256 1088 176
WIRE 1104 256 1088 256
WIRE 1712 256 1696 256
WIRE 1792 256 1792 160
WIRE 704 272 672 272
WIRE 784 272 784 192
WIRE 784 272 768 272
WIRE 816 272 784 272
WIRE 1200 272 1200 176
WIRE 1200 272 1168 272
WIRE 1216 272 1200 272
WIRE 960 288 880 288
WIRE 1056 288 1056 192
WIRE 1056 288 1024 288
WIRE 1104 288 1056 288
WIRE 1792 288 1792 256
WIRE 1824 288 1792 288
WIRE 816 304 784 304
WIRE 1696 304 1696 256
WIRE 1696 304 1664 304
WIRE 1936 304 1936 160
WIRE 1936 304 1888 304
WIRE 1968 304 1936 304
WIRE 784 320 784 304
WIRE 1824 320 1792 320
WIRE 48 352 48 336
WIRE 1696 352 1696 304
WIRE 1712 352 1696 352
WIRE 1792 352 1792 320
WIRE 896 384 864 384
WIRE 992 384 960 384
WIRE 1168 384 1136 384
WIRE 1280 384 1248 384
WIRE 1440 384 1408 384
WIRE 1552 384 1520 384
WIRE 176 432 176 416
WIRE 272 432 272 336
WIRE 272 432 176 432
WIRE 304 432 272 432
WIRE 1792 432 1792 352
WIRE 176 448 176 432
WIRE -144 464 -224 464
WIRE -64 464 -144 464
WIRE 16 464 -64 464
WIRE 48 464 16 464
WIRE 272 464 272 432
WIRE 1872 464 1840 464
WIRE 1904 464 1872 464
WIRE 2016 464 1984 464
WIRE -224 496 -224 464
WIRE 864 496 864 384
WIRE 864 496 848 496
WIRE 896 496 864 496
WIRE 992 496 992 384
WIRE 1024 496 992 496
WIRE 1136 496 1136 384
WIRE 1136 496 1104 496
WIRE 1184 496 1136 496
WIRE 1280 496 1280 384
WIRE 1328 496 1280 496
WIRE 1408 496 1408 384
WIRE 1408 496 1392 496
WIRE 1456 496 1408 496
WIRE 1872 496 1872 464
WIRE -144 512 -144 464
WIRE -64 512 -64 464
WIRE 16 512 16 464
WIRE 992 512 992 496
WIRE 992 512 960 512
WIRE 1280 512 1280 496
WIRE 1280 512 1248 512
WIRE 1552 512 1552 384
WIRE 1552 512 1520 512
WIRE 1584 512 1552 512
WIRE 896 528 864 528
WIRE 1184 528 1136 528
WIRE 1456 528 1424 528
WIRE 176 544 176 528
WIRE 272 544 272 528
WIRE 272 544 176 544
WIRE 864 544 864 528
WIRE 1136 544 1136 528
WIRE 1424 544 1424 528
WIRE 176 560 176 544
WIRE -224 592 -224 576
WIRE -144 592 -144 576
WIRE -144 592 -224 592
WIRE -64 592 -64 576
WIRE -64 592 -144 592
WIRE 16 592 16 576
WIRE 16 592 -64 592
WIRE -224 608 -224 592
WIRE 1792 640 1792 608
WIRE 1792 640 1776 640
WIRE 1792 688 1792 640
FLAG -224 608 0
FLAG 48 464 9V
IOPIN 48 464 Out
FLAG 0 224 in
IOPIN 0 224 In
FLAG 176 336 9V
IOPIN 176 336 In
FLAG 176 560 0
FLAG 304 432 4.5V
IOPIN 304 432 Out
FLAG 48 352 0
FLAG 416 240 0
FLAG 416 176 9V
IOPIN 416 176 In
FLAG 544 208 buffer-out
IOPIN 544 208 Out
FLAG -208 416 0
FLAG -208 336 in
IOPIN -208 336 Out
FLAG 672 272 buffer-out
IOPIN 672 272 In
FLAG 848 256 9V
IOPIN 848 256 In
FLAG 848 320 0
FLAG 784 320 4.5V
IOPIN 784 320 In
FLAG 1216 272 clamper-out
IOPIN 1216 272 Out
FLAG 1584 512 sqrt-out
IOPIN 1584 512 Out
FLAG 768 496 clamper-out
IOPIN 768 496 In
FLAG 1488 544 0
FLAG 1216 544 0
FLAG 928 544 0
FLAG 928 480 9V
IOPIN 928 480 In
FLAG 1216 480 9V
IOPIN 1216 480 In
FLAG 1488 480 9V
IOPIN 1488 480 In
FLAG 864 544 4.5V
IOPIN 864 544 In
FLAG 1136 544 4.5V
IOPIN 1136 544 In
FLAG 1424 544 4.5V
IOPIN 1424 544 In
FLAG 1136 240 9V
IOPIN 1136 240 In
FLAG 1136 304 0
FLAG 320 704 0
FLAG 320 624 ctrl
IOPIN 320 624 Out
FLAG 1856 272 9V
IOPIN 1856 272 In
FLAG 1600 304 sqrt-out
IOPIN 1600 304 In
FLAG 1856 336 0
FLAG 2016 464 ctrl
IOPIN 2016 464 In
FLAG 1872 576 0
FLAG 1792 688 4.5V
IOPIN 1792 688 In
FLAG 1968 304 out
IOPIN 1968 304 Out
FLAG 1696 640 9V
IOPIN 1696 640 In
SYMBOL Voltage -224 480 R0
SYMATTR InstName V1
SYMATTR Value 9
SYMBOL polcap -160 512 R0
SYMATTR InstName C1
SYMATTR Value 47µ
SYMBOL polcap -80 512 R0
SYMATTR InstName C2
SYMATTR Value 47µ
SYMBOL Cap 0 512 R0
SYMATTR InstName C3
SYMATTR Value 100n
SYMBOL Res 176 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 100
SYMBOL Res 32 240 R0
SYMATTR InstName R2
SYMATTR Value 10Meg
SYMBOL Cap 256 208 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 100n
SYMBOL Res 256 240 R0
SYMATTR InstName R3
SYMATTR Value 1Meg
SYMBOL Res 160 320 R0
SYMATTR InstName R4
SYMATTR Value 1Meg
SYMBOL Res 160 432 R0
SYMATTR InstName R5
SYMATTR Value 1Meg
SYMBOL polcap 256 464 R0
SYMATTR InstName C5
SYMATTR Value 10µ
SYMBOL TL072 416 144 R0
SYMATTR InstName U1
SYMBOL Voltage -208 320 R0
SYMATTR InstName V2
SYMATTR Value SINE(0 0.2 110)
SYMATTR Value2 AC 0.2
SYMBOL TL072 848 224 R0
SYMATTR InstName U2
SYMBOL Cap 768 256 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value 100n
SYMBOL diode 1024 272 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL TL072 928 448 R0
SYMATTR InstName U3
SYMBOL Res 864 480 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL TL072 1216 448 R0
SYMATTR InstName U4
SYMBOL TL072 1488 448 R0
SYMATTR InstName U5
SYMBOL diode 960 368 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL Res 1120 480 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 2k
SYMBOL Res 1264 368 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 1k
SYMBOL diode 1392 480 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL Res 1536 368 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 1Meg
SYMBOL TL072 1136 208 R0
SYMATTR InstName U6
SYMBOL Voltage 320 608 R0
SYMATTR InstName V3
SYMATTR Value PULSE(0 9 {shift} 10ns 10ns {phase} {period})
SYMBOL TL072 1856 240 R0
SYMATTR InstName U7
SYMBOL Res 1808 336 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 47k
SYMBOL Res 1808 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 47k
SYMBOL Res 1920 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 27k
SYMBOL Cap 1664 288 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C7
SYMATTR Value 100n
SYMBOL njf 1840 528 R180
SYMATTR InstName J1
SYMATTR Value J201
SYMBOL Res 1888 480 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R13
SYMATTR Value 1Meg
SYMBOL Res 1856 480 R0
SYMATTR InstName R14
SYMATTR Value 1Meg
SYMBOL Res 1808 624 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R15
SYMATTR Value 1Meg
SYMBOL Res 1680 656 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R16
SYMATTR Value 1Meg
TEXT -176 152 Left 2 !.tran 0 100m 40m
TEXT 936 680 Left 2 !.param freq = 110\n.param period = 2/freq\n.param phase = period/2\n.param shift = phase/4
